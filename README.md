# New Zealand Legislation Drafter
Please be advised this README was written by Claude Sonnet 4.5 (Thinking), but I have verified its accuracy.

## About This Project

This project is an experiment to test the capabilities of Google's new Antigravity IDE and the Gemini 3.0 Pro (High) model. **The vast majority of the code was generated by Gemini** through natural language prompting alone, with no direct human coding intervention. This README and some minor changes in the final commits were contributed by Claude Sonnet 3.5 (Thinking).

### Results

The entire application was built in approximately **3 hours of actual work**, and the results are genuinely impressive. What stands out is how effectively the model and IDE can construct a complete, functional project from the ground up on a niche and specialized topicâ€”a New Zealand legislation drafting toolâ€”using only conversational prompts. Google is clearly making significant progress in this space, and I'm excited to see where this technology goes.

The **Antigravity browser viewer** deserves special mention. Watching it perform live verification tasks to test its own work was particularly impressive, providing a tangible demonstration of the IDE's capabilities.

### Limitations

That said, this technology isn't without its challenges. The browser subagent reported incorrect information roughly **one-third of the time**, which occasionally hampered the main model's ability to diagnose and fix issues. I expect these accuracy issues will improve as the technology matures.

**Important caveat:** This was an informal exploration, not a rigorous scientific evaluation. The observations above are based on casual experimentation and should not be treated as systematic benchmarking or academic research. Consider this more of a "proof of concept" to explore what's currently possible.

### Maintenance Notice

**This repository is not actively maintained.** This was purely a learning exercise to push the boundaries of what's currently possible with AI-assisted development. I'm making it public because I believe it offers an interesting glimpse into the state of generative AI for software development, showing both its remarkable potential and current limitations.

---

## Overview

This is a **New Zealand Legislation Drafter** - a specialised web application designed to create, edit, and visualise New Zealand legislative documents in compliance with official formatting standards. The application provides a visual WYSIWYG editor alongside real-time XML generation, allowing users to draft legislation with pixel-perfect accuracy to official NZ legislation formatting requirements.

## Features

### ğŸ¨ Visual Legislation Editor
- **Pixel-Perfect Formatting**: Precisely aligned text with official NZ legislation spacing requirements (measured in points)
- **WYSIWYG Interface**: See exactly how your legislation will appear when printed
- **Drag-and-Drop Reordering**: Easily reorganise sections, subsections, parts, and subparts
- **Component-Based Structure**: Build legislation using proper hierarchical components (Parts, Subparts, Sections, Subsections, Paragraphs, etc.)

### ğŸ“ Comprehensive Legislative Elements
- **Act/Bill Metadata**: Include title, year, and key metadata
- **Structural Components**:
  - Parts and Subparts
  - Cross-headings
  - Sections and Subsections
  - Paragraphs, Subparagraphs, and Sub-subparagraphs
  - Definition paragraphs with terms
- **Proper Labeling**: Automatic and editable labels for all components

### ğŸ”„ Real-Time XML Generation
- **Live Preview**: See XML output update as you edit
- **Syntax Highlighting**: XML displayed with professional syntax highlighting
- **Split View**: Toggle between editor-only and split editor/XML view
- **Standards Compliant**: Generated XML follows NZ legislation XML schema

### ğŸ–¨ï¸ Print Functionality
- **Print-Ready Output**: Print styled legislation directly from the browser
- **Hidden UI Elements**: Sidebar and controls automatically hide when printing
- **Proper Page Layout**: Formatted for A4 paper with appropriate margins

### ğŸ¯ User-Friendly Interface
- **Intuitive Sidebar**: Add components with clearly labeled buttons
- **Inline Editing**: Click to edit text, headings, and labels directly
- **Visual Hierarchy**: Clear indentation and styling distinguishes component types
- **Font Awesome Icons**: Professional icons for add/delete actions

## Technology Stack

- **Framework**: React 19.2.0 with TypeScript
- **Build Tool**: Vite 7.2.2
- **Styling**: Tailwind CSS 4.1.17
- **Syntax Highlighting**: React Syntax Highlighter
- **Icons**: React Icons (Font Awesome)
- **State Management**: React Context API

## Project Structure

```
legislation-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Editor/        # Editor components (NodeRenderer, etc.)
â”‚   â”‚   â””â”€â”€ Layout/        # Layout components (Sidebar)
â”‚   â”œâ”€â”€ context/           # LegislationContext for state management
â”‚   â”œâ”€â”€ utils/             # XML parser and generator utilities
â”‚   â”œâ”€â”€ types.ts           # TypeScript type definitions
â”‚   â”œâ”€â”€ App.tsx            # Main application component
â”‚   â””â”€â”€ index.css          # Global styles and Tailwind config
â”œâ”€â”€ public/                # Static assets
â””â”€â”€ package.json           # Project dependencies
```

## Getting Started

### Prerequisites
- Node.js (v16 or higher recommended)
- npm or yarn package manager

### Installation

1. Clone the repository:
```bash
git clone <repository-url>
cd legislation-project
```

2. Install dependencies:
```bash
npm install
```

3. Start the development server:
```bash
npm run dev
```

4. Open your browser and navigate to `http://localhost:5173` (or the port shown in your terminal)

### Building for Production

To create a production build:
```bash
npm run build
```

The built files will be in the `dist` directory.

To preview the production build:
```bash
npm run preview
```

## Usage

### Creating Legislation

1. **Add Metadata**: Use the "Add Act Metadata" or "Add Bill Metadata" button to start your document
2. **Add Structural Components**: 
   - Add Parts to organise major sections
   - Add Subparts within Parts for finer organisation
   - Add Sections to define specific provisions
3. **Add Content**:
   - Click on any text to edit it inline
   - Add subsections, paragraphs, and sub-paragraphs as needed
   - Use cross-headings to organise related sections
4. **Reorder Components**: Drag and drop sections to rearrange them
5. **Review XML**: Toggle the XML preview to see the generated markup
6. **Print**: Click "Print Document" to generate a print-ready version

### Component Hierarchy

The proper hierarchy for NZ legislation is:
```
Act/Bill
â”œâ”€â”€ Metadata
â”œâ”€â”€ Part
â”‚   â”œâ”€â”€ Subpart
â”‚   â”‚   â”œâ”€â”€ Cross-heading
â”‚   â”‚   â””â”€â”€ Section
â”‚   â”‚       â”œâ”€â”€ Subsection
â”‚   â”‚       â”‚   â”œâ”€â”€ Paragraph
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ Subparagraph
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ Sub-subparagraph
```

## Development

### Available Scripts

- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build
- `npm run lint` - Run ESLint

### Key Files

- **`src/types.ts`**: TypeScript definitions for legislation node types
- **`src/context/LegislationContext.tsx`**: Global state management
- **`src/utils/xmlGenerator.ts`**: Converts internal state to XML
- **`src/utils/xmlParser.ts`**: Parses XML into internal state
- **`src/components/Editor/NodeRenderer.tsx`**: Recursive component renderer

## Limitations & Known Issues

- This is a proof-of-concept and is **not actively maintained**
- XML schema validation is basic - may not cover all edge cases
- Some complex legislative structures may not be fully supported
- Browser compatibility tested primarily on modern Chrome/Firefox

## License

This project is made available for educational and demonstration purposes. No warranty or support is provided.

## Acknowledgments

- Built using Google's Gemini 3.0 Pro (High) model
- Minor edits by Claude Sonnet 3.5
- Developed with Google's Antigravity IDE
- Inspired by the New Zealand Parliamentary Counsel Office's legislative drafting standards
